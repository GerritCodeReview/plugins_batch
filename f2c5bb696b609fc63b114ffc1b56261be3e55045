{
  "comments": [
    {
      "key": {
        "uuid": "0525277a_0299852c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/batch/BatchSubmitter.java",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2019-09-10T01:07:11Z",
      "side": 1,
      "message": "This is based on the assumption that dest.sha1 represents the sha1 of the tip of the batch of changes.  If that is not the case, then this doesn\u0027t work...",
      "range": {
        "startLine": 144,
        "startChar": 43,
        "endLine": 144,
        "endChar": 52
      },
      "revId": "f2c5bb696b609fc63b114ffc1b56261be3e55045",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce611259_c1e802d4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/batch/BatchSubmitter.java",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-09-11T15:51:00Z",
      "side": 1,
      "message": "Any counter-feedback before I approve this change (if I may)?",
      "parentUuid": "0525277a_0299852c",
      "range": {
        "startLine": 144,
        "startChar": 43,
        "endLine": 144,
        "endChar": 52
      },
      "revId": "f2c5bb696b609fc63b114ffc1b56261be3e55045",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecb6fb24_eb7fd247",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/batch/BatchSubmitter.java",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-09-12T00:13:47Z",
      "side": 1,
      "message": "That is the intent of dest.sha1, however that might be more then what is desired here? If there are two changes destined for the same branch in the batch, this will close both of them on each iteration. To prevent that I think that we would need to store the sha1 of each change (assuming the plugin currently supports cherry-picking, I don\u0027t remember), and use that sha1 instead.",
      "parentUuid": "ce611259_c1e802d4",
      "range": {
        "startLine": 144,
        "startChar": 43,
        "endLine": 144,
        "endChar": 52
      },
      "revId": "f2c5bb696b609fc63b114ffc1b56261be3e55045",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d471a5d_ad9bc757",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/batch/BatchSubmitter.java",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2019-09-12T00:20:11Z",
      "side": 1,
      "message": "The intention of Sven\u0027s change that introduced the new argument was to set the \"new rev\" value on the change merged event to the new tip of the branch in the case where multiple changes are submitted at the same time.\n\nPreviously the new rev would be the sha1 of each change, which IIUC is what you are suggesting here, and would be in effect reintroducing the issue that Sven fixed.",
      "parentUuid": "ecb6fb24_eb7fd247",
      "range": {
        "startLine": 144,
        "startChar": 43,
        "endLine": 144,
        "endChar": 52
      },
      "revId": "f2c5bb696b609fc63b114ffc1b56261be3e55045",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15386b3c_92e9b567",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/batch/BatchSubmitter.java",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-09-12T00:29:11Z",
      "side": 1,
      "message": "Sven\u0027s change does not seem to explain his fix. :(\n\nIt feels like a major API change that I am not convinced was the right thing to do. I am not sure this fixes things then since won\u0027t this still trigger things once for each change, but then always have the same sha1, or does Sven\u0027s change somehow deduplicate those?",
      "parentUuid": "ecb6fb24_eb7fd247",
      "range": {
        "startLine": 144,
        "startChar": 43,
        "endLine": 144,
        "endChar": 52
      },
      "revId": "f2c5bb696b609fc63b114ffc1b56261be3e55045",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}